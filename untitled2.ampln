{"doc_type":"Amphi Pipeline","version":"1","json_schema":"http://docs.amphi.ai/schemas/pipeline-v1-schema.json","id":"pipeline_1741624352842","pipelines":[{"id":"primary","flow":{"nodes":[{"id":"node_1742105386328","type":"csvFileInput","position":{"x":-120,"y":-75},"data":{"fileLocation":"local","connectionMethod":"env","csvOptions":{"sep":",","engine":"pyarrow"},"nameId":"csvFileInput1","lastUpdated":0,"filePath":"data/bigquery_hist_sales/Sales_*_5.csv","lastExecuted":0},"positionAbsolute":{"x":-120,"y":-75},"width":196,"height":178,"selected":false,"dragging":false},{"id":"node_1742106625239","type":"rename","position":{"x":120,"y":-75},"data":{"nameId":"rename1","lastUpdated":0,"columns":[{"key":{"value":"Quantity Ordered","type":"Int64","named":true},"value":"QuantityOrdered"},{"key":{"value":"Price Each","type":"Float64","named":true},"value":"PriceEach"},{"key":{"value":"Order Date","type":"object","named":true},"value":"OrderDate"},{"key":{"value":"Purchase Address","type":"string","named":true},"value":"PurchaseAddress"}],"lastExecuted":0},"positionAbsolute":{"x":120,"y":-75},"width":196,"height":136,"selected":false,"dragging":false},{"id":"node_1742106769902","type":"filter","position":{"x":360,"y":-75},"data":{"condition":"==","nameId":"filter1","lastUpdated":0,"column":{"value":"Category","type":"string","named":true},"conditionValue":"Monitores","lastExecuted":0},"positionAbsolute":{"x":360,"y":-75},"width":196,"height":243,"selected":false,"dragging":false},{"id":"node_1742106927648","type":"splitColumn","position":{"x":600,"y":-75},"data":{"splitType":"columns","regex":false,"keepOriginalColumn":false,"nameId":"splitColumn1","lastUpdated":0,"column":{"value":"PurchaseAddress","type":"string","named":true},"delimiter":",","numberColumns":null,"lastExecuted":0},"positionAbsolute":{"x":600,"y":-75},"width":196,"height":243,"selected":false,"dragging":false},{"id":"node_1742107069576","type":"filterColumn","position":{"x":825,"y":-75},"data":{"columns":{"sourceData":[{"value":"Product","label":"Product","type":"string","named":true,"key":"Product","title":"Product"},{"value":"QuantityOrdered","label":"QuantityOrdered","type":"Int64","named":true,"key":"QuantityOrdered","title":"QuantityOrdered"},{"value":"PriceEach","label":"PriceEach","type":"Float64","named":true,"key":"PriceEach","title":"PriceEach"},{"value":"OrderDate","label":"OrderDate","type":"object","named":true,"key":"OrderDate","title":"OrderDate"},{"value":"Category","label":"Category","type":"string","named":true,"key":"Category","title":"Category"},{"value":"PurchaseAddress_0","label":"PurchaseAddress_0","type":"string","named":true,"key":"PurchaseAddress_0","title":"PurchaseAddress_0"},{"value":"PurchaseAddress_1","label":"PurchaseAddress_1","type":"string","named":true,"key":"PurchaseAddress_1","title":"PurchaseAddress_1"},{"value":"PurchaseAddress_2","label":"PurchaseAddress_2","type":"string","named":true,"key":"PurchaseAddress_2","title":"PurchaseAddress_2"}],"targetKeys":["QuantityOrdered","PriceEach","OrderDate","PurchaseAddress_1"]},"nameId":"filterColumn1","lastUpdated":0,"lastExecuted":0},"positionAbsolute":{"x":825,"y":-75},"width":196,"height":136,"selected":false,"dragging":false},{"id":"node_1742107896281","type":"csvFileInput","position":{"x":825,"y":165},"data":{"fileLocation":"local","connectionMethod":"env","csvOptions":{"sep":","},"nameId":"csvFileInput2","lastUpdated":0,"filePath":"data/clasificacion de region.csv","lastExecuted":0},"positionAbsolute":{"x":825,"y":165},"width":196,"height":178,"selected":false,"dragging":false},{"id":"node_1742108099762","type":"join","position":{"x":1755,"y":-90},"data":{"how":"left","nameId":"join1","lastUpdated":0,"leftKeyColumn":[{"type":"string","named":true,"value":"PurchaseAddress_1"}],"rightKeyColumn":[{"type":"string","named":true,"value":"Ciudad"}],"lastExecuted":0},"positionAbsolute":{"x":1755,"y":-90},"width":196,"height":196,"selected":false,"dragging":false},{"id":"node_1742108169732","type":"cleanDataCLeansing","position":{"x":1140,"y":-165},"data":{"method":"value","value":0,"forward":false,"backward":false,"nameId":"cleanDataCLeansing1","lastUpdated":0,"columns":[{"type":"string","named":true,"value":"PurchaseAddress_1"}],"removeUnwantedCharacters":["whitespace"],"case":"lower","replaceMethod":"blanks","lastExecuted":0},"positionAbsolute":{"x":1140,"y":-165},"width":196,"height":283,"selected":false,"dragging":false},{"id":"node_1742108250608","type":"cleanDataCLeansing","position":{"x":1140,"y":180},"data":{"method":"value","value":0,"forward":false,"backward":false,"nameId":"cleanDataCLeansing2","lastUpdated":0,"columns":[{"type":"string","named":true,"value":"Ciudad"}],"case":"lower","replaceMethod":"blanks","removeUnwantedCharacters":["whitespace"],"lastExecuted":0},"positionAbsolute":{"x":1140,"y":180},"width":196,"height":283,"selected":false,"dragging":false},{"id":"node_1742108580458","type":"formulaRow","position":{"x":1425,"y":180},"data":{"nameId":"formulaRow1","lastUpdated":0,"formulas":[{"columns":[{"type":"object","named":true,"value":"Ciudad"}],"formula":"\"new york city\" if row[\"Ciudad\"] == \"nueva york\" else row[\"Ciudad\"]","type":"expr"}],"customTitle":"Formula Row","lastExecuted":0},"width":196,"height":136,"positionAbsolute":{"x":1425,"y":180},"selected":false,"dragging":false},{"id":"node_1742150538449","type":"formulaRow","position":{"x":2055,"y":-90},"data":{"nameId":"formulaRow2","lastUpdated":0,"formulas":[{"columns":[{"type":["numeric","float","float64"],"named":true,"value":"Sales"}],"formula":"row['QuantityOrdered'] + row['PriceEach']","type":"expr"}],"lastExecuted":0},"width":196,"height":136,"selected":false,"positionAbsolute":{"x":2055,"y":-90},"dragging":false},{"id":"node_1742150678770","type":"aggregate","position":{"x":2370,"y":-90},"data":{"nameId":"aggregate1","lastUpdated":0,"groupByColumns":[{"type":"object","named":true,"value":"OrderDate"},{"type":"string","named":true,"value":"Región"}],"columnsOperations":[{"key":{"value":"Sales","type":"float64","named":true},"value":{"label":"Sum","value":"sum","key":"sum"}}],"lastExecuted":0},"positionAbsolute":{"x":2370,"y":-90},"width":196,"height":292,"selected":false,"dragging":false},{"id":"node_1742150748253","type":"pivot","position":{"x":2745,"y":-75},"data":{"aggfunc":"none","fillValue":0,"nameId":"pivot1","lastUpdated":0,"indexColumns":[{"type":"object","named":true,"value":"OrderDate"}],"columnsToPivot":[{"type":"string","named":true,"value":"Región"}],"values":[{"type":"float64","named":true,"value":"Sales_sum"}],"lastExecuted":0},"positionAbsolute":{"x":2745,"y":-75},"width":196,"height":243,"selected":false,"dragging":false},{"id":"node_1742150818036","type":"transpose","position":{"x":3060,"y":-315},"data":{"order":"True","nameId":"transpose1","lastUpdated":0,"key":[{"type":"object","named":true,"value":"OrderDate"}],"columns":[{"type":"float64","named":true,"value":"Noreste (Atlántico Medio)"},{"type":"float64","named":true,"value":"Noreste (Nueva Inglaterra)"},{"type":"float64","named":true,"value":"Oeste (Costa del Pacífico)"},{"type":"float64","named":true,"value":"Sur (Centro-Sur)"},{"type":"float64","named":true,"value":"Sur (Sureste)"}],"lastExecuted":0},"positionAbsolute":{"x":3060,"y":-315},"width":196,"height":136,"selected":false,"dragging":false},{"id":"node_1742150909502","type":"typeConverter","position":{"x":3045,"y":-60},"data":{"dataType":["datetime","datetime64[ns]"],"nameId":"typeConverter1","lastUpdated":0,"column":{"value":"OrderDate","type":"object","named":true},"lastExecuted":0},"positionAbsolute":{"x":3045,"y":-60},"width":196,"height":178,"selected":false,"dragging":false},{"id":"node_1742150954904","type":"datetimeConverter","position":{"x":3495,"y":-90},"data":{"conversionType":"dateToString","language":"en_US.UTF-8","dateTimeFormat":"%B %d, %Y","nameId":"datetimeConverter1","lastUpdated":0,"dateTimeField":{"value":"OrderDate","type":"datetime64[ns]","named":true},"lastExecuted":0},"positionAbsolute":{"x":3495,"y":-90},"width":196,"height":267,"selected":false,"dragging":false},{"id":"node_1742151028995","type":"customTransformations","position":{"x":3855,"y":-225},"data":{"code":"output = input","nameId":"customTransformations1","lastUpdated":0,"lastExecuted":0},"positionAbsolute":{"x":3855,"y":-225},"width":196,"height":161},{"id":"node_1742151040560","type":"sqlQuery","position":{"x":4230,"y":-165},"data":{"query":"SELECT * FROM input_df1","nameId":"sqlQuery1","lastUpdated":0,"lastExecuted":0},"positionAbsolute":{"x":4230,"y":-165},"width":196,"height":136}],"edges":[{"source":"node_1742105386328","sourceHandle":"out","target":"node_1742106625239","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742105386328out-node_1742106625239in"},{"source":"node_1742106625239","sourceHandle":"out","target":"node_1742106769902","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742106625239out-node_1742106769902in"},{"source":"node_1742106769902","sourceHandle":"out","target":"node_1742106927648","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742106769902out-node_1742106927648in"},{"source":"node_1742106927648","sourceHandle":"out","target":"node_1742107069576","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742106927648out-node_1742107069576in"},{"source":"node_1742107069576","sourceHandle":"out","target":"node_1742108169732","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742107069576out-node_1742108169732in"},{"source":"node_1742108169732","sourceHandle":"out","target":"node_1742108099762","targetHandle":"in1","type":"custom-edge","id":"reactflow__edge-node_1742108169732out-node_1742108099762in1"},{"source":"node_1742107896281","sourceHandle":"out","target":"node_1742108250608","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742107896281out-node_1742108250608in"},{"source":"node_1742108250608","sourceHandle":"out","target":"node_1742108580458","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742108250608out-node_1742108580458in"},{"source":"node_1742108580458","sourceHandle":"out","target":"node_1742108099762","targetHandle":"in2","type":"custom-edge","id":"reactflow__edge-node_1742108580458out-node_1742108099762in2"},{"source":"node_1742108099762","sourceHandle":"out","target":"node_1742150538449","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742108099762out-node_1742150538449in"},{"source":"node_1742150538449","sourceHandle":"out","target":"node_1742150678770","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742150538449out-node_1742150678770in"},{"source":"node_1742150678770","sourceHandle":"out","target":"node_1742150748253","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742150678770out-node_1742150748253in"},{"source":"node_1742150748253","sourceHandle":"out","target":"node_1742150818036","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742150748253out-node_1742150818036in"},{"source":"node_1742150748253","sourceHandle":"out","target":"node_1742150909502","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742150748253out-node_1742150909502in"},{"source":"node_1742150909502","sourceHandle":"out","target":"node_1742150954904","targetHandle":"in","type":"custom-edge","id":"reactflow__edge-node_1742150909502out-node_1742150954904in"}],"viewport":{"x":-2273.329603410273,"y":106.97162299943147,"zoom":0.763888888888889}},"app_data":{"ui_data":{"comments":[]},"version":1,"runtime_type":"LOCAL"},"runtime_ref":"python"}]}